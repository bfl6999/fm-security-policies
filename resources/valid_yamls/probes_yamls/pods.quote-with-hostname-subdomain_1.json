{
    "filename": "pods.quote-with-hostname-subdomain_1.yaml",
    "apiVersion": "v1",
    "config": {
        "io_k8s_api_core_v1_Pod_apiVersion": "v1",
        "io_k8s_api_core_v1_Pod_kind": "Pod",
        "io_k8s_api_core_v1_Pod_metadata": {
            "io_k8s_api_core_v1_Pod_metadata_name": "quote2-with-subdomain",
            "io_k8s_api_core_v1_Pod_metadata_labels": [
                {
                    "io_k8s_api_core_v1_Pod_metadata_labels_KeyMap": "app",
                    "io_k8s_api_core_v1_Pod_metadata_labels_ValueMap": "quote"
                },
                {
                    "io_k8s_api_core_v1_Pod_metadata_labels_KeyMap": "rel",
                    "io_k8s_api_core_v1_Pod_metadata_labels_ValueMap": "stable"
                }
            ]
        },
        "io_k8s_api_core_v1_Pod_spec": {
            "io_k8s_api_core_v1_Pod_spec_subdomain": "quote-headless",
            "io_k8s_api_core_v1_Pod_spec_volumes": [
                {
                    "io_k8s_api_core_v1_Pod_spec_volumes_name": "shared",
                    "io_k8s_api_core_v1_Pod_spec_volumes_emptyDir": {
                        "io_k8s_api_core_v1_Pod_spec_volumes_emptyDir_isEmpty": true
                    }
                }
            ],
            "io_k8s_api_core_v1_Pod_spec_initContainers": [
                {
                    "io_k8s_api_core_v1_Pod_spec_initContainers_name": "index-creator",
                    "io_k8s_api_core_v1_Pod_spec_initContainers_image": "busybox",
                    "io_k8s_api_core_v1_Pod_spec_initContainers_command": [
                        {
                            "io_k8s_api_core_v1_Pod_spec_initContainers_command_StringValue": "sh"
                        },
                        {
                            "io_k8s_api_core_v1_Pod_spec_initContainers_command_StringValue": "-c"
                        },
                        {
                            "io_k8s_api_core_v1_Pod_spec_initContainers_command_StringValue": "echo \"This is the quote service running in pod $HOSTNAME on node $NODE_NAME\" > /html/index.html"
                        }
                    ],
                    "io_k8s_api_core_v1_Pod_spec_initContainers_env": [
                        {
                            "io_k8s_api_core_v1_Pod_spec_initContainers_env_name": "NODE_NAME",
                            "io_k8s_api_core_v1_Pod_spec_initContainers_env_valueFrom": {
                                "io_k8s_api_core_v1_Pod_spec_initContainers_env_valueFrom_fieldRef": {
                                    "io_k8s_api_core_v1_Pod_spec_initContainers_env_valueFrom_fieldRef_fieldPath": "spec.nodeName"
                                }
                            }
                        }
                    ],
                    "io_k8s_api_core_v1_Pod_spec_initContainers_volumeMounts": [
                        {
                            "io_k8s_api_core_v1_Pod_spec_initContainers_volumeMounts_name": "shared",
                            "io_k8s_api_core_v1_Pod_spec_initContainers_volumeMounts_mountPath": "/html"
                        }
                    ]
                }
            ],
            "io_k8s_api_core_v1_Pod_spec_containers": [
                {
                    "io_k8s_api_core_v1_Pod_spec_containers_name": "quote-writer",
                    "io_k8s_api_core_v1_Pod_spec_containers_image": "luksa/quote-writer:0.1",
                    "io_k8s_api_core_v1_Pod_spec_containers_imagePullPolicy": {
                        "io_k8s_api_core_v1_Pod_spec_containers_imagePullPolicy_Always": true
                    },
                    "io_k8s_api_core_v1_Pod_spec_containers_volumeMounts": [
                        {
                            "io_k8s_api_core_v1_Pod_spec_containers_volumeMounts_name": "shared",
                            "io_k8s_api_core_v1_Pod_spec_containers_volumeMounts_mountPath": "/var/local/output"
                        }
                    ]
                },
                {
                    "io_k8s_api_core_v1_Pod_spec_containers_name": "nginx",
                    "io_k8s_api_core_v1_Pod_spec_containers_image": "nginx:alpine",
                    "io_k8s_api_core_v1_Pod_spec_containers_volumeMounts": [
                        {
                            "io_k8s_api_core_v1_Pod_spec_containers_volumeMounts_name": "shared",
                            "io_k8s_api_core_v1_Pod_spec_containers_volumeMounts_mountPath": "/usr/share/nginx/html",
                            "io_k8s_api_core_v1_Pod_spec_containers_volumeMounts_readOnly": true
                        }
                    ],
                    "io_k8s_api_core_v1_Pod_spec_containers_ports": [
                        {
                            "io_k8s_api_core_v1_Pod_spec_containers_ports_name": "http",
                            "io_k8s_api_core_v1_Pod_spec_containers_ports_containerPort": 80
                        }
                    ]
                }
            ]
        }
    }
}